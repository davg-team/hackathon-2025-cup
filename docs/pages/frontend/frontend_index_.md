# Фронтенд АИС «Федерация Спортивного Программирования»

## Обзор

Фронтенд часть АИС представляет собой современное одностраничное приложение (SPA), разработанное на основе React с использованием TypeScript. Приложение обеспечивает интерактивный пользовательский интерфейс для работы с системой управления соревнованиями и командами в сфере спортивного программирования.

## Ключевые особенности

### Модульная структура
Приложение разделено на логические модули:
- **страницы (pages)**: компоненты верхнего уровня, соответствующие маршрутам
- **компоненты (components)**: многоразовые элементы интерфейса
- **shared**: общие утилиты, инструменты, константы
- **api**: модули для взаимодействия с бэкендом
- **app**: корневые компоненты и глобальные стили

### Маршрутизация
Используется `react-router-dom` с настройкой для работы с субдоменами региональных отделений. Основные маршруты:
- `/` - главная страница или страница региона (в зависимости от субдомена)
- `/competitions` - страница соревнований
- `/regions` - список регионов
- `/teams/:id` - страница команды
- `/lk` - личный кабинет пользователя
- `/region/:id` - страница регионального отделения

### Аутентификация
Реализована через JWT-токены с поддержкой нескольких провайдеров:
- Яндекс (OAuth2)
- Telegram
- Другие OAuth2 провайдеры

Токены хранятся как в localStorage, так и в cookies для обеспечения надежности.

### Ролевая модель
Интерфейс адаптируется в зависимости от роли пользователя:
- **fsp_staff**: сотрудники федерации
- **fsp_region_head**: руководители региональных отделений
- **fsp_region_staff**: сотрудники региональных отделений
- **sportsman**: участники соревнований
- **root**: суперпользователи

### UI библиотеки
Основу интерфейса составляет библиотека компонентов @gravity-ui с дополнительными возможностями:
- Тематизация (светлая/тёмная тема)
- Адаптивный дизайн
- Всплывающие уведомления
- Модальные окна

### Визуализация данных
Для отображения данных используются:
- Календарь мероприятий (FullCalendar)
- Диаграммы и графики (chart.js)
- Карточки событий и команд

## Быстрый старт

### Установка зависимостей
```bash
npm install
```

### Запуск в режиме разработки
```bash
npm run dev
```

### Сборка для production
```bash
npm run build
```

## Структура проекта

```
frontend/
├── src/
│   ├── app/             # Корневые компоненты и конфигурация
│   ├── api/             # API-клиенты для взаимодействия с бэкендом
│   ├── features/        # Функциональные модули
│   │   └── components/  # Переиспользуемые компоненты
│   ├── pages/           # Страницы приложения
│   └── shared/          # Общие утилиты и константы
└── index.html           # Корневой HTML
```

## Работа с данными

API-взаимодействие организовано через fetch с отправкой JWT-токена в заголовках:
```typescript
const response = await fetch('/api/endpoint', {
  headers: {
    Authorization: `Bearer ${localStorage.getItem('token')}`
  }
});
```

## Расширение

Для добавления новых страниц:
1. Создайте компонент страницы в директории pages
2. Добавьте маршрут в Router/index.tsx
3. При необходимости обновите навигационное меню

Для добавления новых компонентов:
1. Создайте компонент в директории features/components
2. Импортируйте и используйте в нужных страницах