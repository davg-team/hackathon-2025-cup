# Компоненты

Фронтенд приложения реализован с использованием компонентной архитектуры React и библиотеки @gravity-ui/uikit для пользовательского интерфейса. Ниже представлены основные компоненты системы.

## Навигационные компоненты

### Navigation

Модуль, ответственный за построение навигации в приложении. Содержит:
- `useProps()` - хук для получения данных навигации в зависимости от роли пользователя
- `getNavigationCustoms()` - функция для получения кастомных элементов навигации

Навигация динамически меняется в зависимости от статуса аутентификации и роли пользователя (fsp_staff, fsp_region_head, sportsman и т.д.).

### LinkCustom

Компонент-обёртка для обычных ссылок, добавляющий стилизацию и классы:
```tsx
const LinkCustom = ({children, to, classN}: {
  children: React.ReactNode;
  to: string;
  classN?: string;
}) => {
  return (
    <NavLink className={`g-button g-button_size_l g-button_pin_round-round ${classN}`} to={to}>
      {children}
    </NavLink>
  );
};
```

## Компоненты аутентификации

### LoginButton

Компонент кнопки входа, который открывает модальное окно с различными методами аутентификации (OAuth2, Яндекс, Телеграм и др.). Реализует многопоточную авторизацию с использованием сторонних провайдеров.

### LoginCallback

Обработчик обратного вызова при аутентификации через внешних провайдеров. Отвечает за:
- Обработку кодов авторизации
- Получение токенов
- Перенаправление на соответствующие страницы
- Завершение процесса регистрации с заполнением данных пользователя

### Logout

Компонент для выхода из системы, удаляющий токены аутентификации из хранилища и перенаправляющий на главную страницу:
```tsx
useEffect(() => {
  localStorage.removeItem("token");
  localStorage.removeItem("temp_token");
  localStorage.removeItem("isLoggined")
  setIsLoggined(false)
  document.cookie = `token=; path=/; domain=.${location.hostname.split(".").slice(-2).join(".")}; max-age=0; samesite=strict`;
  navigate("/");
}, []);
```

## Компоненты пользовательского интерфейса

### User

Компонент для отображения и управления данными пользователя:
- Отображение аватара и имени
- Редактирование профиля через модальное окно
- Возможность изменения способов уведомлений
- Управление эффектом "снега" на странице

### NitificationsInsidePopup

Реализует всплывающие уведомления для пользователя с возможностью:
- Отметки уведомлений как прочитанных/непрочитанных
- Отображения времени отправки
- Интерактивного взаимодействия с уведомлениями

### PageConstr

Компонент-конструктор для создания страниц с единым шаблоном, использующий PageConstructor из библиотеки @gravity-ui/page-constructor:
```tsx
const PageConstr = ({Component, navigation, navigation_custom}: PageConstrProps) => {
  return (
    <>
      <PageConstructor
        custom={{
          navigation: navigation_custom,
          blocks: {
            "main-content": Component,
          },
        }}
        content={{ blocks: [{ type: "main-content" }] }}
        navigation={navigation}
      />
    </>
  );
};
```

## Визуализация данных

### Chart

Компонент для создания диаграмм с использованием библиотеки react-chartjs-2. Поддерживает:
- Круговые диаграммы (Pie)
- Визуализацию различных типов данных (дисциплины, типы мероприятий, места)
- Настраиваемые цвета и легенды

### Calendar / CalendarView

Набор компонентов для работы с календарём на основе FullCalendar:
- Календарь с отображением мероприятий
- Локализация на русский язык
- Интерактивность (обработка кликов по событиям)
- Адаптивная высота

### Events

Компонент для отображения списка мероприятий со следующими возможностями:
- Карточное представление с основной информацией
- Фильтрация по различным параметрам
- Отображение статуса мероприятия
- Административные действия для пользователей с соответствующими ролями
