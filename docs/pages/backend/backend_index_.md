# Введение

Бэкенд проекта представляет собой микросервисную систему, которая поддерживает полную бизнес‑логику платформы «Федерация Спортивного Программирования». Каждый сервис отвечает за свою предметную область и взаимодействует с остальными по HTTP REST, используя единую базу данных YDB.

## Краткое описание решения

- **Ключевая идея**: разделение на доменные сервисы для изоляции ответственности и упрощения поддержки.
- **Используемые технологии**: Python (FastAPI), Go (Gin), YDB для хранения данных.
- **Аспекты**: автоматическое партиционирование данных в YDB, сквозная аналитика по событиям и пользователям.

## Технологический стек

- **Язык программирования**: Python, Go
- **Веб-фреймворк**: FastAPI, Gin
- **База данных**: YDB (Yandex Database)
- **Аутентификация и авторизация**: OAuth2, JWT (JSON Web Tokens)
- **Контейнеризация**: Serverless, Docker

## Микросервисная структура

| Сервис                   | Основная ответственность                                                                 |
|--------------------------|------------------------------------------------------------------------------------------|
| **users-service**        | Аутентификация/авторизация (JWT/OAuth2), управление профилями и ролями                   |
| **organizations**        | CRUD для Федераций и региональных представительств                                       |
| **events**               | CRUD соревнований, фильтрация, логика публикации/архивации                               |
| **applications-service** | Приём, автопроверка и модерация заявок (индивидуальных и командных)                      |
| **teams**                | Создание и управление составами команд, приглашения участников                           |
| **reports**              | Хранение результатов соревнований, генерация и выдача итоговых протоколов                |
| **analytics**            | Сбор бизнес‑метрик, построение дашбордов, экспорт отчётов                                |
| **files-service**        | Загрузка, хранение и раздача файлов (аватары, протоколы, изображения)                    |

---

![alt text](<diagram.png>)

```text
graph TD
    subgraph Client
        UI[Web-клиент / Frontend]
    end

    subgraph Gateway
        APIGW[API Gateway]
    end

    subgraph Services
        USERS[users-service]
        ORGS[organizations]
        EVENTS[events]
        APPS[applications-service]
        TEAMS[teams]
        REPORTS[reports]
        ANALYTICS[analytics]
        FILES[files-service]
    end

    %% Взаимодействие клиента с API Gateway
    UI --> APIGW

    %% Gateway направляет запросы по микросервисам
    APIGW --> USERS
    APIGW --> ORGS
    APIGW --> EVENTS
    APIGW --> APPS
    APIGW --> TEAMS
    APIGW --> REPORTS
    APIGW --> ANALYTICS
    APIGW --> FILES

    %% Внутренние зависимости
    APPS --> USERS
    ANALYTICS --> EVENTS
    ANALYTICS --> REPORTS
    ANALYTICS --> APPS

```
